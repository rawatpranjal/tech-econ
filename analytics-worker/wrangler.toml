name = "tech-econ-analytics"
main = "index.js"
compatibility_date = "2024-01-01"
workers_dev = true

# Environment variables
[vars]
# Get your Zone ID from Cloudflare Dashboard > Overview (right sidebar)
CF_ZONE_ID = "YOUR_ZONE_ID_HERE"

# Secrets (set via: wrangler secret put CF_API_TOKEN)
# CF_API_TOKEN - Create at https://dash.cloudflare.com/profile/api-tokens
#   Permissions: Zone > Analytics > Read
#   Zone Resources: Include > Specific zone > tech-econ.com

# KV Namespace for storing analytics events
# Run: wrangler kv:namespace create ANALYTICS_EVENTS
# Then update the id below with your namespace ID
[[kv_namespaces]]
binding = "ANALYTICS_EVENTS"
id = "55666fb0baa64b12a16c9bc307483781"

# To deploy:
# 1. Install wrangler: npm install -g wrangler
# 2. Login: wrangler login
# 3. Create KV namespace: wrangler kv:namespace create ANALYTICS_EVENTS
# 4. Update the id above with the namespace ID from step 3
# 5. Deploy: wrangler deploy
# 6. Update hugo.toml trackerEndpoint with your worker URL
