{{ define "main" }}
<!-- Hero Section -->
<header class="hero hero-explore">
    <h1 class="hero-title">Discover</h1>
    <p class="hero-tagline">{{ .Site.Data.topic_clusters_all.num_clusters }} topics, {{ .Site.Data.topic_clusters_all.num_items }} resources to discover.</p>
</header>

<!-- Data files loaded asynchronously for faster page load -->
<script>
    window.DISCOVER_DATA_URLS = {
        clusters: '{{ "data/topic_clusters_all.json" | relURL }}',
        packages: '{{ "data/packages.json" | relURL }}',
        resources: '{{ "data/resources.json" | relURL }}',
        datasets: '{{ "data/datasets.json" | relURL }}',
        talks: '{{ "data/talks.json" | relURL }}',
        career: '{{ "data/career.json" | relURL }}',
        community: '{{ "data/community.json" | relURL }}',
        books: '{{ "data/books.json" | relURL }}'
    };
</script>

<div class="explore-container">
    <!-- Controls Row -->
    <div class="explore-controls">
        <button id="shuffle-btn" class="shuffle-btn">
            <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="16 3 21 3 21 8"></polyline>
                <line x1="4" y1="20" x2="21" y2="3"></line>
                <polyline points="21 16 21 21 16 21"></polyline>
                <line x1="15" y1="15" x2="21" y2="21"></line>
                <line x1="4" y1="4" x2="9" y2="9"></line>
            </svg>
            Shuffle
        </button>
    </div>

    <!-- Cluster Rows Container -->
    <div id="explore-rows" class="explore-rows">
        <!-- Dynamically populated by JavaScript -->
    </div>

    <!-- Loading indicator for lazy load -->
    <div id="explore-loader" class="explore-loader">
        <div class="loader-spinner"></div>
    </div>
</div>

<script src="{{ "js/explore.js" | relURL }}" defer></script>
{{ end }}
